{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import'../App.css';import MiniMovieDes from'../components/MiniMovieDes';import SearchFetcher from'../hooks/SearchFetcher';import ChangePageLinks from'../components/ChangePageLinks';function SearchView(match){var page_no=match.match.params.pg_no;var search_keyword=match.match.params.keywords;function refreshPage(){window.location.reload();}var url=\"http://www.omdbapi.com/?apikey=59ecd04c&s=\".concat(search_keyword,\"&page=\").concat(page_no);var movies=SearchFetcher(url);//handling error of having to many movies sent\nif(movies==null){return/*#__PURE__*/React.createElement(\"div\",{className:\"home-page\"},\"Please enter a descriptive keyword to search\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"go to search again\"),/*#__PURE__*/React.createElement(\"br\",null),\"or \",/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:refreshPage},\"Reload\"));};var prev_page_no=page_no-1;if(prev_page_no===0){prev_page_no=1;};var next_page_no=parseInt(page_no)+1;var prev_page_path=\"/Search/keyword=\"+search_keyword+\"/page=\"+prev_page_no;var next_page_path=\"/Search/keyword=\"+search_keyword+\"/page=\"+next_page_no;return/*#__PURE__*/ (//getting the search result\nReact.createElement(\"div\",{className:\"home-page\"},/*#__PURE__*/React.createElement(ChangePageLinks,{prev_path:prev_page_path,next_path:next_page_path,page:page_no}),/*#__PURE__*/React.createElement(\"div\",{className:\"movies-container\"},movies.map(function(movie){return/*#__PURE__*/React.createElement(MiniMovieDes,{key:movie.imdbID,data:movie});})),/*#__PURE__*/React.createElement(ChangePageLinks,{prev_path:prev_page_path,next_path:next_page_path,page:page_no})));};export default SearchView;","map":{"version":3,"sources":["C:/Users/Saurav/Desktop/git projects/react-movie-descript/movie-descript/src/views/SearchView.js"],"names":["React","Link","MiniMovieDes","SearchFetcher","ChangePageLinks","SearchView","match","page_no","params","pg_no","search_keyword","keywords","refreshPage","window","location","reload","url","movies","prev_page_no","next_page_no","parseInt","prev_page_path","next_page_path","map","movie","imdbID"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAmB,OAAnB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACvB,GAAIC,CAAAA,OAAO,CAACD,KAAK,CAACA,KAAN,CAAYE,MAAZ,CAAmBC,KAA/B,CACA,GAAIC,CAAAA,cAAc,CAACJ,KAAK,CAACA,KAAN,CAAYE,MAAZ,CAAmBG,QAAtC,CACA,QAASC,CAAAA,WAAT,EAAsB,CAClBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CACD,GAAMC,CAAAA,GAAG,qDAA8CN,cAA9C,kBAAqEH,OAArE,CAAT,CACA,GAAMU,CAAAA,MAAM,CAACd,aAAa,CAACa,GAAD,CAA1B,CACA;AACA,GAAGC,MAAM,EAAE,IAAX,CAAgB,CACZ,mBACI,2BAAK,SAAS,CAAC,WAAf,8DACgD,8BADhD,cAEI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAFJ,cAE0C,8BAF1C,oBAGO,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEL,WAA/B,WAHP,CADJ,CAOH,EACD,GAAIM,CAAAA,YAAY,CAACX,OAAO,CAAC,CAAzB,CACA,GAAGW,YAAY,GAAG,CAAlB,CAAoB,CAChBA,YAAY,CAAC,CAAb,CACH,EACD,GAAIC,CAAAA,YAAY,CAACC,QAAQ,CAACb,OAAD,CAAR,CAAkB,CAAnC,CACA,GAAIc,CAAAA,cAAc,CAAC,mBAAmBX,cAAnB,CAAkC,QAAlC,CAA2CQ,YAA9D,CACA,GAAII,CAAAA,cAAc,CAAC,mBAAmBZ,cAAnB,CAAkC,QAAlC,CAA2CS,YAA9D,CACA,oBACI;AACA,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,eAAD,EAAiB,SAAS,CAAEE,cAA5B,CAA4C,SAAS,CAAEC,cAAvD,CAAuE,IAAI,CAAEf,OAA7E,EADJ,cAEI,2BAAK,SAAS,CAAC,kBAAf,EACKU,MAAM,CAACM,GAAP,CAAW,SAAAC,KAAK,qBAAE,oBAAC,YAAD,EAAc,GAAG,CAAEA,KAAK,CAACC,MAAzB,CAAiC,IAAI,CAAED,KAAvC,EAAF,EAAhB,CADL,CAFJ,cAKI,oBAAC,eAAD,EAAiB,SAAS,CAAEH,cAA5B,CAA4C,SAAS,CAAEC,cAAvD,CAAuE,IAAI,CAAEf,OAA7E,EALJ,CAFJ,EAUH,EAED,cAAeF,CAAAA,UAAf","sourcesContent":["import React  from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport '../App.css';\r\nimport MiniMovieDes from '../components/MiniMovieDes'\r\nimport SearchFetcher from '../hooks/SearchFetcher'\r\nimport ChangePageLinks from '../components/ChangePageLinks'\r\n\r\nfunction SearchView(match) {\r\n    var page_no=match.match.params.pg_no;\r\n    var search_keyword=match.match.params.keywords;\r\n    function refreshPage(){ \r\n        window.location.reload(); \r\n    }\r\n    const url=`http://www.omdbapi.com/?apikey=59ecd04c&s=${search_keyword}&page=${page_no}`;\r\n    const movies=SearchFetcher(url);\r\n    //handling error of having to many movies sent\r\n    if(movies==null){\r\n        return(\r\n            <div className=\"home-page\">\r\n                Please enter a descriptive keyword to search<br></br>\r\n                <Link to='/'>go to search again</Link><br></br>\r\n                or <button type=\"button\" onClick={refreshPage}>Reload</button>\r\n            </div>\r\n        )\r\n    };\r\n    let prev_page_no=page_no-1;\r\n    if(prev_page_no===0){\r\n        prev_page_no=1;\r\n    };\r\n    let next_page_no=parseInt(page_no)+1;\r\n    let prev_page_path=\"/Search/keyword=\"+search_keyword+\"/page=\"+prev_page_no;\r\n    let next_page_path=\"/Search/keyword=\"+search_keyword+\"/page=\"+next_page_no;\r\n    return (\r\n        //getting the search result\r\n        <div className=\"home-page\">\r\n            <ChangePageLinks prev_path={prev_page_path} next_path={next_page_path} page={page_no}/>\r\n            <div className=\"movies-container\">\r\n                {movies.map(movie=><MiniMovieDes key={movie.imdbID} data={movie}/>)}\r\n            </div>\r\n            <ChangePageLinks prev_path={prev_page_path} next_path={next_page_path} page={page_no}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SearchView;"]},"metadata":{},"sourceType":"module"}